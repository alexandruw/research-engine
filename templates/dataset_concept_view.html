{% extends "dataset_concept_base.html" %}


{% block dv_head %}
  <link href="/css/dataset_concept_view.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/javascript">
    MathJax.Hub.Config({
        "tex2jax": { inlineMath: [ [ '$', '$' ] ] }
    });
  </script>
  <script type="text/javascript" language="javascript">
    function showInfo(objid, targetid) {document.getElementById(targetid).innerHTML = document.getElementById(objid).innerHTML;}
  </script>
{% endblock %}

    
{% block dv_content %}

 <div class="dv-content">
   {% if revisions %}
     <div class="revisions-wrapper">
     {% for rev in revisions %}
       <div class="revision">
	 <div class="date">{{rev.date.strftime("%d-%b-%Y")}}</div>
	 <div class="author"><em>Author:</em> <a href="/{{rev.author.username}}">{{rev.author.username.title()[:20]}}</a></div>
	 <div class="datafile"><a href="/file/{{rev.datafile.key()}}">Download</a></div>
	 <div class="info-link"><a href="#" onClick="showInfo('rid{{rev.key().id()}}', 'mw');">Show info</a></div>
	 <div class="meta" id="rid{{rev.key().id()}}">
	   <div class="button1"><a href="/{{p_author.username}}/{{project.name}}/datasets/{{dataset.key().id()}}/{{datac.key().id()}}/edit/{{rev.key().id()}}">Edit</a></div>
	   {% if rev.meta %}{{rev.meta | md | safe}}{% else %}<em>No extra information provided.</em>{% endif %}
	 </div>
       </div>
     {% endfor %}
     </div>
     <div class="meta-window" id="mw"></div>
   {% else %}
     <p>There isn't any data uploaded yet. Click <a href="/{{p_author.username}}/{{project.name}}/datasets/{{dataset.key().id()}}/{{datac.key().id()}}/new">here</a> or the <strong>Upload new revision</strong> tab above to upload the first revision.
   {% endif %}
</div>



{% endblock %}
