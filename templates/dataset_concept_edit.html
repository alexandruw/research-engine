{% extends "dataset_concept_base.html" %}


{% block p_head %}
<script type="text/javascript" src="/js/showdown.js"></script>
<script type="text/javascript" src="/js/preview.js"></script>
{% endblock %}
    
{% block dv_content %}

<form method="post" role="form">
  <div class="form-group {{nClass}}">
    <input class="form-control" type="text" name="title" value="{{name}}" placeholder="Title of the dataset" autofocus {% if visitor_p %}disabled{% endif %}/>
  </div>
  <div class="form-group {{cClass}}">
    <textarea class="form-control" name="description" rows="10" id="inputText"
	      placeholder="Description of the dataset" {% if visitor_p %}disabled{% endif %}>{{description}}</textarea>
  </div>
  <button type="submit" class="btn btn-success" {% if visitor_p %}disabled{% endif %}>Save changes</button>
  <button onClick="window.location = '/{{project.key.integer_id()}}/datasets/{{dataset.key.integer_id()}}/{{datac.key.integer_id()}}'" 
	  type="button" class="btn btn-default"{% if visitor_p %}disabled{% endif %}>Cancel</button>
  {% if error_message %}<p class="text-danger">{{error_message}}</p>{% endif %}
  {% if visitor_p %}<p class="text-warning">{% if user %}You are not a member of this project{% else %}Please log in first{% endif %}</p>{% endif %}
</form>

<br/>
<div>Below is a preview of how the page will be renderer when you save it. It may not be 100&#37; accurate but it should be close.</div>
<div class="panel panel-default">
  <div class="panel-heading">
    <button type="button" class="btn btn-default" id="render-button" onCLick="Preview('inputText', 'previewArea');">
      Render preview
    </button>
  </div>
  <div class="panel-body" id="previewArea">
    Click the <em>Render preview</em> button to see a preview here.
  </div>
</div>

{% endblock %}
